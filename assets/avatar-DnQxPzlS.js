import{j as e,c as r,e as a,k as t,o as n}from"./ui-vendor-B50KzqUP.js";import{r as s}from"./react-vendor-xmALwEl6.js";import{d as o}from"./index-pAwTUmbv.js";var i={exports:{}},u={},d=s;var l="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},c=d.useState,f=d.useEffect,m=d.useLayoutEffect,v=d.useDebugValue;function p(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!l(e,a)}catch(t){return!0}}var g="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var a=r(),t=c({inst:{value:a,getSnapshot:r}}),n=t[0].inst,s=t[1];return m(function(){n.value=a,n.getSnapshot=r,p(n)&&s({inst:n})},[e,a,r]),f(function(){return p(n)&&s({inst:n}),e(function(){p(n)&&s({inst:n})})},[e]),v(a),a};u.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:g,i.exports=u;var w=i.exports;function y(){return()=>{}}var S="Avatar",[x]=r(S),[N,h]=x(S),j=s.forwardRef((r,t)=>{const{__scopeAvatar:n,...o}=r,[i,u]=s.useState("idle");return e.jsx(N,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:u,children:e.jsx(a.span,{...o,ref:t})})});j.displayName=S;var E="AvatarImage",L=s.forwardRef((r,o)=>{const{__scopeAvatar:i,src:u,onLoadingStatusChange:d=()=>{},...l}=r,c=h(E,i),f=function(e,{referrerPolicy:r,crossOrigin:a}){const t=w.useSyncExternalStore(y,()=>!0,()=>!1),o=s.useRef(null),i=t?(o.current||(o.current=new window.Image),o.current):null,[u,d]=s.useState(()=>b(i,e));return n(()=>{d(b(i,e))},[i,e]),n(()=>{const e=e=>()=>{d(e)};if(!i)return;const t=e("loaded"),n=e("error");return i.addEventListener("load",t),i.addEventListener("error",n),r&&(i.referrerPolicy=r),"string"==typeof a&&(i.crossOrigin=a),()=>{i.removeEventListener("load",t),i.removeEventListener("error",n)}},[i,a,r]),u}(u,l),m=t(e=>{d(e),c.onImageLoadingStatusChange(e)});return n(()=>{"idle"!==f&&m(f)},[f,m]),"loaded"===f?e.jsx(a.img,{...l,ref:o,src:u}):null});L.displayName=E;var A="AvatarFallback",R=s.forwardRef((r,t)=>{const{__scopeAvatar:n,delayMs:o,...i}=r,u=h(A,n),[d,l]=s.useState(void 0===o);return s.useEffect(()=>{if(void 0!==o){const e=window.setTimeout(()=>l(!0),o);return()=>window.clearTimeout(e)}},[o]),d&&"loaded"!==u.imageLoadingStatus?e.jsx(a.span,{...i,ref:t}):null});function b(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}R.displayName=A;var _=j,I=L,O=R;const k=s.forwardRef(({className:r,...a},t)=>e.jsx(_,{ref:t,className:o("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a}));k.displayName=_.displayName;const C=s.forwardRef(({className:r,...a},t)=>e.jsx(I,{ref:t,className:o("aspect-square h-full w-full",r),...a}));C.displayName=I.displayName;const P=s.forwardRef(({className:r,...a},t)=>e.jsx(O,{ref:t,className:o("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a}));P.displayName=O.displayName;export{k as A,C as a,P as b};
