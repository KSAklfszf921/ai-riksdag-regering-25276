import{j as e}from"./ui-vendor-B50KzqUP.js";import{r as s,L as r}from"./react-vendor-xmALwEl6.js";import{u as a}from"./query-vendor-CSOQ5a_6.js";import{c as i,C as n,a as t,S as l,b as o,e as d,s as c}from"./index-pAwTUmbv.js";import{B as m}from"./badge-Dz51AyLj.js";import{E as g}from"./EmptyState-DoaAbft3.js";import{F as x}from"./FilterBar-C5MLVTVW.js";import"./supabase-vendor-D1LX2-r6.js";import"./circle-alert-CS47a3vq.js";import"./search-Bl9Tdm91.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=i("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),j=()=>{const[i,j]=s.useState(""),{data:u,isLoading:p}=a({queryKey:["regeringskansliet-kategorier"],queryFn:async()=>{const{data:e,error:s}=await c.from("regeringskansliet_kategorier").select("*").order("namn",{ascending:!0});if(s)throw s;return e}}),k=null==u?void 0:u.filter(e=>{var s,r,a;const n=i.toLowerCase();return(null==(s=e.namn)?void 0:s.toLowerCase().includes(n))||(null==(r=e.kod)?void 0:r.toLowerCase().includes(n))||(null==(a=e.beskrivning)?void 0:a.toLowerCase().includes(n))});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"w-full bg-primary py-1"}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[e.jsxs("header",{className:"mb-12",children:[e.jsx(r,{to:"/regeringskansliet",className:"text-primary hover:underline mb-4 inline-block",children:"← Tillbaka till Regeringskansliet"}),e.jsx("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"Kategorier"}),e.jsx("div",{className:"w-20 h-1 bg-secondary mb-6"}),e.jsxs("p",{className:"text-muted-foreground",children:[(null==k?void 0:k.length)||0," dokumentkategorier"]})]}),e.jsx(x,{searchQuery:i,onSearchChange:j,placeholder:"Sök kategorier, kod..."}),p?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(12)].map((s,r)=>e.jsx(n,{children:e.jsxs(t,{children:[e.jsx(l,{className:"h-6 w-3/4 mb-2"}),e.jsx(l,{className:"h-4 w-1/2"})]})},r))}):k&&0===k.length?e.jsx(g,{message:i?"Inga kategorier hittades":"Inga kategorier i databasen",suggestion:i?"Prova att ändra din sökning":"Använd 'Hämta data'-knappen för att ladda ned kategorier"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null==k?void 0:k.map(s=>e.jsxs(n,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(t,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{className:"h-4 w-4 text-primary"}),e.jsx(m,{variant:"secondary",children:s.kod})]}),e.jsx(o,{className:"text-lg",children:s.namn||s.kod})]}),s.beskrivning&&e.jsx(d,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s.beskrivning})})]},s.id))})]})]})};export{j as default};
