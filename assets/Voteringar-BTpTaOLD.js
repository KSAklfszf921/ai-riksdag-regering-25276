import{j as s}from"./ui-vendor-B50KzqUP.js";import{u as e}from"./query-vendor-CSOQ5a_6.js";import{C as a,a as r,S as n,b as t,s as i}from"./index-pAwTUmbv.js";import{L as d}from"./react-vendor-xmALwEl6.js";import{B as l}from"./badge-Dz51AyLj.js";import{E as c}from"./EmptyState-DoaAbft3.js";import{C as m}from"./circle-check-DKVmP6Q0.js";import{C as o}from"./calendar-B2HvfI6x.js";import{f as x,s as j}from"./sv-qPpAa4hK.js";import"./supabase-vendor-D1LX2-r6.js";import"./circle-alert-CS47a3vq.js";const g=()=>{const{data:g,isLoading:h}=e({queryKey:["voteringar"],queryFn:async()=>{const{data:s,error:e}=await i.from("riksdagen_voteringar").select("*").order("votering_datum",{ascending:!1});if(e)throw e;return s}});return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"w-full bg-primary py-1"}),s.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[s.jsxs("header",{className:"mb-12",children:[s.jsx(d,{to:"/riksdagen",className:"text-primary hover:underline mb-4 inline-block",children:"← Tillbaka till Riksdagen"}),s.jsx("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"Voteringar"}),s.jsx("div",{className:"w-20 h-1 bg-secondary mb-6"}),s.jsx("p",{className:"text-muted-foreground",children:"Senaste omröstningarna i riksdagen"})]}),h?s.jsx("div",{className:"space-y-4",children:[...Array(10)].map((e,t)=>s.jsx(a,{children:s.jsxs(r,{children:[s.jsx(n,{className:"h-6 w-3/4 mb-2"}),s.jsx(n,{className:"h-4 w-1/2"})]})},t))}):g&&0===g.length?s.jsx(c,{message:"Inga voteringar hittades",suggestion:"Använd 'Hämta data'-knappen på Riksdagen-sidan för att ladda ned voteringar från Riksdagens API"}):s.jsx("div",{className:"space-y-4",children:null==g?void 0:g.map(e=>s.jsx(a,{className:"hover:shadow-lg transition-shadow",children:s.jsx(r,{children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.beteckning&&s.jsx(l,{variant:"outline",children:e.beteckning}),e.rm&&s.jsxs(l,{variant:"secondary",children:["RM ",e.rm]}),e.punkt&&s.jsxs(l,{variant:"secondary",children:["Punkt ",e.punkt]})]}),s.jsx(t,{className:"text-xl mb-2",children:e.titel||"Votering"}),e.vinnare&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(m,{className:"h-4 w-4 text-success"}),s.jsxs("span",{className:"text-sm font-medium text-success",children:["Resultat: ",e.vinnare]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[e.votering_datum&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(o,{className:"h-3 w-3"}),x(new Date(e.votering_datum),{addSuffix:!0,locale:j})]}),e.votering_typ&&s.jsxs("span",{children:["Typ: ",e.votering_typ]})]})]})})})},e.id))})]})]})};export{g as default};
