import{j as e}from"./ui-vendor-B50KzqUP.js";import{u as s}from"./query-vendor-CSOQ5a_6.js";import{C as a,a as r,S as t,b as n,f as l,s as i}from"./index-pAwTUmbv.js";import{L as m}from"./react-vendor-xmALwEl6.js";import{B as d}from"./badge-Dz51AyLj.js";import{E as o}from"./EmptyState-DoaAbft3.js";import{F as c}from"./file-text-C6mr0w7N.js";import{C as x}from"./calendar-B2HvfI6x.js";import{E as h}from"./external-link-UpQKxp4P.js";import{f as u,s as j}from"./sv-qPpAa4hK.js";import"./supabase-vendor-D1LX2-r6.js";import"./circle-alert-CS47a3vq.js";const p=()=>{const{data:p,isLoading:f}=s({queryKey:["dokument"],queryFn:async()=>{const{data:e,error:s}=await i.from("riksdagen_dokument").select("*").order("datum",{ascending:!1});if(s)throw s;return e}});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"w-full bg-primary py-1"}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[e.jsxs("header",{className:"mb-12",children:[e.jsx(m,{to:"/riksdagen",className:"text-primary hover:underline mb-4 inline-block",children:"← Tillbaka till Riksdagen"}),e.jsx("h1",{className:"text-4xl font-serif font-bold text-foreground mb-4",children:"Riksdagsdokument"}),e.jsx("div",{className:"w-20 h-1 bg-secondary mb-6"}),e.jsx("p",{className:"text-muted-foreground",children:"Senaste dokumenten från riksdagen"})]}),f?e.jsx("div",{className:"space-y-4",children:[...Array(10)].map((s,n)=>e.jsx(a,{children:e.jsxs(r,{children:[e.jsx(t,{className:"h-6 w-3/4 mb-2"}),e.jsx(t,{className:"h-4 w-1/2"})]})},n))}):p&&0===p.length?e.jsx(o,{message:"Inga dokument hittades",suggestion:"Använd 'Hämta data'-knappen på Riksdagen-sidan för att ladda ned dokument från Riksdagens API"}):e.jsx("div",{className:"space-y-4",children:null==p?void 0:p.map(s=>e.jsx(a,{className:"hover:shadow-lg transition-shadow",children:e.jsx(r,{children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(c,{className:"h-4 w-4 text-primary"}),s.doktyp&&e.jsx(d,{variant:"outline",children:s.doktyp}),s.beteckning&&e.jsx(d,{variant:"secondary",children:s.beteckning})]}),e.jsx(n,{className:"text-xl mb-2",children:s.titel||"Dokument utan titel"}),s.subtitel&&e.jsx(l,{className:"text-base",children:s.subtitel}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[s.datum&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"h-3 w-3"}),u(new Date(s.datum),{addSuffix:!0,locale:j})]}),s.organ&&e.jsxs("span",{children:["Organ: ",s.organ]}),s.status&&e.jsxs("span",{children:["Status: ",s.status]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[s.local_pdf_url&&e.jsxs("a",{href:s.local_pdf_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline font-medium",children:["PDF (Lokal) ",e.jsx(h,{className:"h-3 w-3"})]}),s.dokument_url_html&&e.jsxs("a",{href:s.dokument_url_html,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline",children:["HTML ",e.jsx(h,{className:"h-3 w-3"})]}),s.dokument_url_text&&e.jsxs("a",{href:s.dokument_url_text,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline",children:["Text ",e.jsx(h,{className:"h-3 w-3"})]})]})]})})},s.id))})]})]})};export{p as default};
